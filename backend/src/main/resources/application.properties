# ============================================
# SPIRITBLADE - Application Configuration
# ============================================

spring.application.name=spiritblade

# ============================================
# Server Configuration (HTTPS)
# ============================================
server.port=${SERVER_PORT:443}
server.ssl.enabled=${SERVER_SSL_ENABLED:true}
server.ssl.key-store=${SERVER_SSL_KEY_STORE:classpath:keystore.jks}
server.ssl.key-store-password=${SERVER_SSL_KEY_STORE_PASSWORD:spiritblade}
server.ssl.key-store-type=${SERVER_SSL_KEY_STORE_TYPE:JKS}
server.ssl.key-alias=${SERVER_SSL_KEY_ALIAS:spiritblade}

# ============================================
# Database Configuration (MySQL)
# ============================================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/spiritblade?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:1234}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:com.mysql.cj.jdbc.Driver}

# ============================================
# JPA/Hibernate Configuration
# ============================================
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.MySQL8Dialect}
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=${SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL:true}
spring.jpa.open-in-view=false

# ============================================
# JWT Configuration
# ============================================
jwt.secret=${JWT_SECRET:dev-secret-key-change-in-production}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ============================================
# Riot API Configuration
# ============================================
riot.api.key=${RIOT_API_KEY:RGAPI-7863c35a-a05f-4d60-a638-32376f1189ac}

# ============================================
# Actuator Configuration
# ============================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# ============================================
# Encoding Configuration
# ============================================
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# ============================================
# Logging Configuration
# ============================================
logging.level.com.tfg.tfg=${LOGGING_LEVEL_COM_TFG_TFG:INFO}
logging.level.org.springframework=${LOGGING_LEVEL_ORG_SPRINGFRAMEWORK:INFO}
logging.level.org.hibernate=${LOGGING_LEVEL_ORG_HIBERNATE:INFO}
logging.level.org.hibernate.SQL=${LOGGING_LEVEL_ORG_HIBERNATE_SQL:DEBUG}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOGGING_LEVEL_ORG_HIBERNATE_BASICBINDER:TRACE}

# ============================================
# File Storage Configuration
# ============================================

# MinIO configuration (used by minio, prod profiles)
# Uncomment and configure when ready to use MinIO
minio.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
minio.secret-key=${MINIO_SECRET_KEY:minioadmin123}
minio.bucket-name=${MINIO_BUCKET_NAME:spiritblade-uploads}
minio.region=${MINIO_REGION:us-east-1}

# Max file size for uploads
spring.servlet.multipart.max-file-size=${SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE:10MB}

# ============================================
# Swagger/OpenAPI Configuration
# ============================================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.filter=true
springdoc.swagger-ui.syntaxHighlight.activated=true
springdoc.show-actuator=false
